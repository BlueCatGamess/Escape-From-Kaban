[gd_scene load_steps=49 format=3 uid="uid://dd5o2hgucyuf"]

[ext_resource type="PackedScene" uid="uid://c2nuqr3hsi3ue" path="res://assets/Placeholder-Character02.glb" id="1_l6llv"]
[ext_resource type="Script" path="res://scripts/CharacterMovement.gd" id="1_x7d48"]
[ext_resource type="Script" path="res://scripts/CharacterStateMachine.gd" id="2_00n6r"]
[ext_resource type="Script" path="res://scripts/EnvironmentChecker.gd" id="4_g5fks"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_clmde"]
radius = 0.3
height = 1.6

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_aoquc"]
animation = &"CROUCH-TO-SPRINT"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_i6pf7"]
animation = &"IDLE-CROUCH"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_en1xr"]
animation = &"MOVE-CROUCH"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_c48is"]
animation = &"FALLING-TO-LANDING"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_motu5"]
animation = &"FALLING"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_1mjkx"]
animation = &"IDLE-STAND"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_aetpf"]
animation = &"IDLE-STAND02"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_fnn0g"]
animation = &"IDLE_STAND03"

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_k1dxx"]
xfade_time = 0.25
input_0/name = "Idle01"
input_0/auto_advance = true
input_0/reset = true
input_1/name = "Idle02"
input_1/auto_advance = true
input_1/reset = true
input_2/name = "Idle03"
input_2/auto_advance = true
input_2/reset = true

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_v3jva"]
graph_offset = Vector2(-564.196, 65.9331)
nodes/Idle01/node = SubResource("AnimationNodeAnimation_1mjkx")
nodes/Idle01/position = Vector2(20, 80)
nodes/Idle02/node = SubResource("AnimationNodeAnimation_aetpf")
nodes/Idle02/position = Vector2(20, 200)
nodes/Idle03/node = SubResource("AnimationNodeAnimation_fnn0g")
nodes/Idle03/position = Vector2(20, 320)
nodes/IdleTransition/node = SubResource("AnimationNodeTransition_k1dxx")
nodes/IdleTransition/position = Vector2(260, 160)
nodes/output/position = Vector2(740, 120)
node_connections = [&"IdleTransition", 0, &"Idle01", &"IdleTransition", 1, &"Idle02", &"IdleTransition", 2, &"Idle03", &"output", 0, &"IdleTransition"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hqwr5"]
animation = &"JUMP-UP"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_11lda"]
animation = &"MOVE-STAND"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ivcge"]
animation = &"SPRINT-TO-IDLE"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_82xu4"]
animation = &"SPRINT"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_y8and"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_gds8f"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_owq7f"]
xfade_time = 0.2
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_3hiaj"]
advance_mode = 2
advance_condition = &"Falling"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_n3xxy"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_tgot6"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_kxie0"]
xfade_time = 0.2
advance_mode = 2
advance_condition = &"Falling"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_f8dqk"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_0wa62"]
xfade_time = 0.2
advance_mode = 2
advance_condition = &"Falling"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7hyqu"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_6xb8w"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_wodjv"]
xfade_time = 0.1
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_r5fkh"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_k2hx8"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_diaek"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_pex36"]
xfade_time = 0.2
advance_mode = 2
advance_condition = &"Falling"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_muep4"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_nx1v1"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_0ydov"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_w3c55"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_2ihvy"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_a8ngf"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_068lt"]
xfade_time = 0.2
advance_mode = 2
advance_condition = &"Falling"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ow5on"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_dru4c"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_2kmry"]
xfade_time = 0.2
advance_mode = 2
advance_condition = &"Falling"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_pph2u"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_i3f7l"]
states/CROUCH-TO-SPRINT/node = SubResource("AnimationNodeAnimation_aoquc")
states/CROUCH-TO-SPRINT/position = Vector2(482, 254)
states/CROUCH_IDLE/node = SubResource("AnimationNodeAnimation_i6pf7")
states/CROUCH_IDLE/position = Vector2(-13, 203)
states/CROUCH_MOVE/node = SubResource("AnimationNodeAnimation_en1xr")
states/CROUCH_MOVE/position = Vector2(325, 151)
states/End/position = Vector2(865, 6)
states/FALLING/node = SubResource("AnimationNodeAnimation_motu5")
states/FALLING/position = Vector2(208, -102)
states/FALLING-TO-LANDING/node = SubResource("AnimationNodeAnimation_c48is")
states/FALLING-TO-LANDING/position = Vector2(19, -91)
states/IDLE/node = SubResource("AnimationNodeBlendTree_v3jva")
states/IDLE/position = Vector2(-13, 21)
states/JUMP/node = SubResource("AnimationNodeAnimation_hqwr5")
states/JUMP/position = Vector2(395, -149)
states/MOVE/node = SubResource("AnimationNodeAnimation_11lda")
states/MOVE/position = Vector2(621, 108)
states/SPRINT/node = SubResource("AnimationNodeAnimation_82xu4")
states/SPRINT/position = Vector2(524, -102)
states/SPRINT-TO-IDLE/node = SubResource("AnimationNodeAnimation_ivcge")
states/SPRINT-TO-IDLE/position = Vector2(738, -54)
states/Start/position = Vector2(-151, 21)
transitions = ["FALLING", "FALLING-TO-LANDING", SubResource("AnimationNodeStateMachineTransition_y8and"), "Start", "IDLE", SubResource("AnimationNodeStateMachineTransition_gds8f"), "FALLING-TO-LANDING", "IDLE", SubResource("AnimationNodeStateMachineTransition_owq7f"), "IDLE", "FALLING", SubResource("AnimationNodeStateMachineTransition_3hiaj"), "IDLE", "MOVE", SubResource("AnimationNodeStateMachineTransition_n3xxy"), "MOVE", "IDLE", SubResource("AnimationNodeStateMachineTransition_tgot6"), "MOVE", "FALLING", SubResource("AnimationNodeStateMachineTransition_kxie0"), "IDLE", "JUMP", SubResource("AnimationNodeStateMachineTransition_f8dqk"), "JUMP", "FALLING", SubResource("AnimationNodeStateMachineTransition_0wa62"), "MOVE", "JUMP", SubResource("AnimationNodeStateMachineTransition_7hyqu"), "SPRINT", "SPRINT-TO-IDLE", SubResource("AnimationNodeStateMachineTransition_6xb8w"), "SPRINT-TO-IDLE", "IDLE", SubResource("AnimationNodeStateMachineTransition_wodjv"), "SPRINT", "MOVE", SubResource("AnimationNodeStateMachineTransition_r5fkh"), "MOVE", "SPRINT", SubResource("AnimationNodeStateMachineTransition_k2hx8"), "IDLE", "SPRINT", SubResource("AnimationNodeStateMachineTransition_diaek"), "SPRINT", "FALLING", SubResource("AnimationNodeStateMachineTransition_pex36"), "IDLE", "CROUCH_IDLE", SubResource("AnimationNodeStateMachineTransition_muep4"), "CROUCH_IDLE", "IDLE", SubResource("AnimationNodeStateMachineTransition_nx1v1"), "CROUCH_IDLE", "CROUCH_MOVE", SubResource("AnimationNodeStateMachineTransition_0ydov"), "CROUCH_MOVE", "CROUCH_IDLE", SubResource("AnimationNodeStateMachineTransition_w3c55"), "MOVE", "CROUCH_MOVE", SubResource("AnimationNodeStateMachineTransition_2ihvy"), "CROUCH_MOVE", "MOVE", SubResource("AnimationNodeStateMachineTransition_a8ngf"), "CROUCH_MOVE", "FALLING", SubResource("AnimationNodeStateMachineTransition_068lt"), "CROUCH_IDLE", "CROUCH-TO-SPRINT", SubResource("AnimationNodeStateMachineTransition_ow5on"), "CROUCH-TO-SPRINT", "SPRINT", SubResource("AnimationNodeStateMachineTransition_dru4c"), "CROUCH_IDLE", "FALLING", SubResource("AnimationNodeStateMachineTransition_2kmry"), "IDLE", "CROUCH_MOVE", SubResource("AnimationNodeStateMachineTransition_pph2u")]
graph_offset = Vector2(-271, -97)

[sub_resource type="SphereMesh" id="SphereMesh_ws77r"]
radius = 0.25
height = 0.5

[node name="MainCharacter" type="CharacterBody3D"]

[node name="Placeholder-Character02" parent="." instance=ExtResource("1_l6llv")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 0, 0)

[node name="Skeleton3D" parent="Placeholder-Character02/Armature" index="0"]
bones/1/position = Vector3(7.57488e-06, 0.910878, 4.84528e-07)
bones/1/rotation = Quaternion(-0.0442612, -0.0755405, 0.00265858, 0.996156)
bones/2/rotation = Quaternion(-0.0141888, 0.0374911, -0.00820539, 0.999163)
bones/3/rotation = Quaternion(0.0929779, 0.0783086, -0.0103368, 0.99253)
bones/4/rotation = Quaternion(0.14991, 0.0775818, -0.0148416, 0.985539)
bones/4/scale = Vector3(1, 1, 1)
bones/5/rotation = Quaternion(0.00335411, -0.154575, -0.000792127, 0.987975)
bones/6/rotation = Quaternion(-0.0883788, -0.111135, -0.0578422, 0.988176)
bones/8/rotation = Quaternion(-0.439858, -0.567929, 0.589781, -0.368971)
bones/8/scale = Vector3(1, 1, 1)
bones/9/rotation = Quaternion(0.548993, -0.0268722, 0.0936261, 0.830132)
bones/9/scale = Vector3(1, 1, 1)
bones/10/rotation = Quaternion(0.0370834, 0.00384281, 0.439394, 0.897521)
bones/11/rotation = Quaternion(-0.195781, 0.00733392, 0.0192407, 0.980432)
bones/12/rotation = Quaternion(0.322562, -0.00388064, 0.168269, 0.931464)
bones/13/rotation = Quaternion(-0.0204564, 0.00660582, -0.0713828, 0.997217)
bones/15/rotation = Quaternion(0.009147, 0.125638, 0.0720727, 0.989412)
bones/16/rotation = Quaternion(0.376214, 0.0386446, -0.0121199, 0.925647)
bones/17/rotation = Quaternion(0.5482, -0.010978, 0.0447512, 0.835077)
bones/19/rotation = Quaternion(3.78172e-06, 0.00400153, 2.2769e-05, 0.999992)
bones/20/rotation = Quaternion(0.459534, -0.0308352, -0.0201452, 0.887396)
bones/21/rotation = Quaternion(0.586964, -0.00418029, 0.0587438, 0.807468)
bones/23/rotation = Quaternion(-2.43821e-07, 0.00457938, -0.000654126, 0.999989)
bones/23/scale = Vector3(1, 1, 1)
bones/24/rotation = Quaternion(0.536218, -0.071301, -0.0342931, 0.840364)
bones/25/rotation = Quaternion(0.659823, 0.00433595, 0.0462249, 0.749985)
bones/27/rotation = Quaternion(1.05853e-05, 0.00739618, 0.000770582, 0.999972)
bones/27/scale = Vector3(1, 1, 1)
bones/28/rotation = Quaternion(0.610546, -0.104161, 0.0374832, 0.784206)
bones/28/scale = Vector3(1, 1, 1)
bones/29/rotation = Quaternion(0.704141, 0.0277303, 0.0484091, 0.707865)
bones/29/scale = Vector3(1, 1, 1)
bones/30/rotation = Quaternion(7.46713e-06, 5.5992e-07, 0.000230323, 1)
bones/31/rotation = Quaternion(-3.75733e-06, 0.00409959, -0.000575278, 0.999991)
bones/32/rotation = Quaternion(0.574389, -0.450013, 0.516757, 0.447803)
bones/32/scale = Vector3(1, 1, 1)
bones/33/rotation = Quaternion(0.509229, 0.0484997, 0.106135, 0.852684)
bones/34/rotation = Quaternion(0.0315639, 0.0329933, -0.42508, 0.904003)
bones/35/rotation = Quaternion(-0.0623841, -0.0566841, -0.0933535, 0.992059)
bones/36/rotation = Quaternion(0.343221, 0.0869741, -0.145094, 0.923896)
bones/37/rotation = Quaternion(-0.0251327, 0.00294029, 0.178521, 0.983611)
bones/39/rotation = Quaternion(0.00923222, -0.127131, -0.0723281, 0.989202)
bones/40/rotation = Quaternion(0.211129, 0.0112155, 0.000519704, 0.977394)
bones/41/rotation = Quaternion(0.40845, 0.00665966, -0.0175307, 0.912588)
bones/43/rotation = Quaternion(-7.59837e-05, -0.00670926, 0.00137472, 0.999977)
bones/43/scale = Vector3(1, 1, 1)
bones/44/rotation = Quaternion(0.243692, 0.0128813, 0.0128875, 0.969682)
bones/45/rotation = Quaternion(0.533573, 0.00347173, -0.0416604, 0.84472)
bones/47/rotation = Quaternion(-5.19285e-05, -0.00669529, -0.00170833, 0.999976)
bones/48/rotation = Quaternion(0.316225, 0.00379618, 0.0526361, 0.947215)
bones/49/rotation = Quaternion(0.582436, -0.0041748, -0.0557398, 0.810953)
bones/51/rotation = Quaternion(-6.09144e-05, -0.00761335, -0.000300409, 0.999971)
bones/52/rotation = Quaternion(0.325996, 0.00516738, 0.0751533, 0.942365)
bones/53/rotation = Quaternion(0.606693, -0.0238681, -0.0830632, 0.790224)
bones/55/rotation = Quaternion(-8.31814e-05, -0.00849884, 0.00220614, 0.999961)
bones/55/scale = Vector3(1, 1, 1)
bones/56/rotation = Quaternion(-0.0249342, 0.279906, 0.959656, 0.00953065)
bones/56/scale = Vector3(1, 1, 1)
bones/57/rotation = Quaternion(-0.332544, 0.280624, -0.0367852, 0.899618)
bones/58/rotation = Quaternion(0.563366, -0.0154254, -0.022706, 0.825751)
bones/58/scale = Vector3(1, 1, 1)
bones/59/rotation = Quaternion(0.24807, -0.0106804, -0.0461237, 0.967585)
bones/61/rotation = Quaternion(-0.0982659, -0.106186, 0.987005, 0.069924)
bones/61/scale = Vector3(1, 1, 1)
bones/62/rotation = Quaternion(-0.287795, 0.0512243, -0.000240552, 0.956321)
bones/63/rotation = Quaternion(0.746221, 0.0247762, 0.0101258, 0.665161)
bones/63/scale = Vector3(1, 1, 1)
bones/64/rotation = Quaternion(0.297791, 0.11006, -0.079473, 0.944929)
bones/64/scale = Vector3(1, 1, 1)

[node name="CharacterColShape" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8, 0)
shape = SubResource("CapsuleShape3D_clmde")

[node name="CharacterMovement" type="Node" parent="."]
script = ExtResource("1_x7d48")

[node name="CharacterStateMachine" type="Node" parent="." node_paths=PackedStringArray("char_mov_component", "anim_tree")]
script = ExtResource("2_00n6r")
char_mov_component = NodePath("../CharacterMovement")
anim_tree = NodePath("../AnimationTree")

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../Placeholder-Character02")
root_motion_track = NodePath("Armature/Skeleton3D:mixamorig_Root")
tree_root = SubResource("AnimationNodeStateMachine_i3f7l")
anim_player = NodePath("../Placeholder-Character02/AnimationPlayer")
parameters/conditions/Falling = false
parameters/IDLE/IdleTransition/current_state = "Idle03"
parameters/IDLE/IdleTransition/transition_request = ""
parameters/IDLE/IdleTransition/current_index = 2

[node name="EnvironmentChecker" type="Node" parent="."]
script = ExtResource("4_g5fks")
ray_offset = Vector3(0, 0.5, 0)
ray_length = 1.5
layer_mask = 1

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
mesh = SubResource("SphereMesh_ws77r")

[editable path="Placeholder-Character02"]
